{"version":3,"sources":["webpack:///./view/components/page-layout/index.js","webpack:///./index.js","webpack:///./view/routes.js","webpack:///./utils/mithril.js","webpack:///./view/pages/landing-page.js"],"names":["console","log","process","$root","document","body","querySelector","m","route","DefaultRoute","Routes","render","vnode","IndexPage","n","tags","parts","split","rest","reduceRight","child","tag","trim","pop","$","s","$$","querySelectorAll","select","yn","target","tooltip","forEach","el","classList","remove","add","createPopper","fancyText","text","map","word","onclick","e","saveText","_","throttle","localStorage","updateText","textContent","value","capitalize","charAt","toUpperCase","slice","addPunc","punc","nocap","str","chars","start","end","length","indexOf","substring","trimAny","nextSibling","toLowerCase","substr","hk","hotkeys","event","handler","preventDefault","jq","click","handleKey","addEventListener","closest","d","view","onscroll","scrollTop","spelling","prompt","defaultValue","oninput"],"mappings":"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","file":"js/main-24d8ccb6.js","sourcesContent":["import './styles.scss';\n\n/**\n * A component that wraps another component with some common\n * page layout markup and styles.\n */\nexport default function() {\n  return {\n    view: vnode => m('.page-layout', vnode.children),\n  };\n}\n","import 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport 'utils/mithril'\n\n/* Import all vendor.scss / css here[e.g. Import 'font-awesome/scss/font-awesome.scss';] */\nimport { Routes, DefaultRoute } from './view/routes';\n\n/* Include global app styles here, so that it will over ride component's css styles*/\nimport './app.scss';\n\nif (module.hot) {\n    module.hot.accept();\n}\n\nif (process.env.NODE_ENV !== 'production') {\n    console.log('Looks like we are in development mode!');\n}\n\nconsole.log('Env var test ===>', process.env.BASE_URL, process.env.BASE_URL_EXPAND);\n// Wire up mithril app to DOM\nconst $root = document.body.querySelector('#root');\nm.route($root, DefaultRoute, Routes);\n","import PageLayout from './components/page-layout';\n\n// Individual pages\nimport IndexPage from './pages/landing-page';\n\nconst Routes = {\n  '/index': {\n    render(vnode) {\n      // return m(PageLayout, m(IndexPage));\n      return m(IndexPage);\n    },\n  },\n};\n\nconst DefaultRoute = '/index';\n\nexport { Routes, DefaultRoute };\n","m.n = (tags, ...rest) => {\n  const parts = tags.split('>')\n  return parts.reduceRight((child, tag) => m(tag.trim(), child), m(parts.pop().trim(), ...rest))\n}\n\n","import './styles.scss'\nimport { createPopper } from '@popperjs/core';\nimport hotkeys from 'hotkeys-js';\nimport jq from 'jquery'\nimport _ from 'lodash'\n\n\nconst $ = s => document.querySelector(s)\nconst $$ = s => document.querySelectorAll(s)\n\nconst select = (yn, target, tooltip) => {\n  $$('.sel').forEach(el => el.classList.remove('sel'))\n  $$('.dropdown').forEach(el => el.classList.remove('is-active'))\n  if(yn) {\n    tooltip.classList.add('is-active')\n    target.classList.add('sel')\n    createPopper(target, tooltip);\n  }\n}\n\nconst fancyText = text => {\n  return text.split(' ')\n    .map(word => [\n      m('span.region', {\n        onclick: e => {\n          select(true, e.target, $('.dropdown.word'))\n        }\n      }, word + ' '),\n    ])\n}\n\nconst saveText = _.throttle(text => localStorage.text = text, 1000)\nconst updateText = () => {\n  const text = $('.special').textContent\n  saveText(text)\n  $('textarea').value = text\n}\n\nconst capitalize = (s) => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\n// https://stackoverflow.com/questions/26156292/trim-specific-character-from-a-string\nfunction trimAny(str, chars) {\n  var start = 0,\n    end = str.length;\n\n  while(start < end && chars.indexOf(str[start]) >= 0)\n    ++start;\n\n  while(end > start && chars.indexOf(str[end - 1]) >= 0)\n    --end;\n\n  return (start > 0 || end < str.length) ? str.substring(start, end) : str;\n}\n\nconst clearPunc = w => trimAny(w, ' .,?!')\nconst addPunc = (punc, nocap) => e => {\n  const el = $('.sel')\n  el.textContent = clearPunc(el.textContent) + punc + ' '\n  if(el.nextSibling) {\n    if(nocap) {\n      el.nextSibling.textContent = el.nextSibling.textContent[0].toLowerCase() + el.nextSibling.textContent.substr(1)\n    } else {\n      el.nextSibling.textContent = capitalize(el.nextSibling.textContent)\n    }\n  }\n  updateText()\n}\n\nconst wordMenu = () => {\n  return m(\"div.dropdown.word\", [\n    m(\".dropdown-menu[role='menu']\",\n      m(\"div.dropdown-content\", [\n        m(\"a.dropdown-item\", {\n          onclick: () => {\n            const word = $('.sel').textContent\n            $$(`.special span`).forEach(el => {\n              if(el.textContent === word) {\n                el.textContent = capitalize(el.textContent)\n              }\n            })\n\n            updateText()\n          }\n        },\n          \"capitalize all\",\n          m(\"span.tag.is-pulled-right\", \"1\")\n        ),\n        m(\"a.dropdown-item\", {\n          onclick: () => {\n            const word = $('.sel').textContent\n            const spelling = prompt('new spelling').trim() + ' '\n            $$(`.special span`).forEach(el => {\n              if(el.textContent === word) {\n                el.textContent = spelling\n              }\n            })\n\n            updateText()\n          }\n        },\n          \"spell all\",\n          m(\"span.tag.is-pulled-right\", \"2\")\n        ),\n        m(\"a.dropdown-item\", {\n          onclick: () => {\n            const word = $('.sel').textContent\n            $$(`.special span`).forEach(el => {\n              if(el.textContent === word) {\n                el.remove()\n              }\n            })\n\n            updateText()\n          }\n        },\n          \"delete all\",\n          m(\"span.tag.is-pulled-right\", \"9\")\n        ),\n        m(\"hr.dropdown-divider\"),\n        m(\"a.dropdown-item\", { onclick: addPunc(',', true) },\n          \",\",\n          m(\"span.tag.is-pulled-right\", \"z\")\n        ),\n        m(\"a.dropdown-item\", { onclick: addPunc('.') },\n          \".\",\n          m(\"span.tag.is-pulled-right\", \"x\")\n        ),\n        m(\"a.dropdown-item\", { onclick: addPunc('?') },\n          \"?\",\n          m(\"span.tag.is-pulled-right\", \"c\")\n        ),\n        m(\"a.dropdown-item\", { onclick: addPunc('!') },\n          \"!\",\n          m(\"span.tag.is-pulled-right\", \"v\")\n        ),\n        m(\"a.dropdown-item\", { onclick: addPunc('', true) },\n          \"clear punctuation\",\n          m(\"span.tag.is-pulled-right\", \"b\")\n        ),\n        m(\"hr.dropdown-divider\"),\n        m(\"a.dropdown-item[href='#']\", {\n          onclick: () => select(false)\n        }, \"Cancel\",\n          m(\"span.tag.is-pulled-right\", \"esc\")\n        )\n      ])\n    )\n  ])\n}\n\nconst handleKey = hk => {\n  hotkeys(hk, function(event, handler){\n    event.preventDefault()\n    jq(`.dropdown.is-active .tag:contains('${hk}')`).click()\n  });\n}\n\n[1, 2, 3, 4, 9, 'z', 'x', 'c', 'v', 'b', 'esc']\n  .forEach(hk => handleKey(hk+''))\n\nhotkeys('esc', function(event, handler){\n  event.preventDefault()\n  $$('.sel').forEach(el => el.classList.remove('sel'))\n});\n\n\nexport default function() {\n  // let text = ''\n  let text = localStorage.text || ''\n\n  addEventListener('click', e => {\n    if($('.dropdown.is-active') && !e.target.closest('.dropdown')) {\n      $$('.dropdown').forEach(d => {\n        d.classList.remove('is-active')\n      })\n    }\n  }, true)\n\n  return {\n    view() {\n      return m(\".landing-page.columns\", [\n        m.n(\".column > .box.is-family-monospace\", [\n          m(\".special\", {\n            onscroll: e => {\n              $(\"textarea\").scrollTop = e.target.scrollTop\n            },\n          }, fancyText(text)),\n          wordMenu()\n        ]),\n        m.n(\".column > .box\", [\n          m(\"textarea.is-family-monospace\", {\n            defaultValue: text,\n            onscroll: e => {\n              $(\".special\").scrollTop = e.target.scrollTop\n            },\n            oninput: e => {\n              text = e.target.value\n              saveText(text)\n            }\n          })\n        ])\n      ]);\n    },\n  };\n}\n"],"sourceRoot":""}